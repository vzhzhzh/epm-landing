import{r as f,R as G}from"./index.CBlmr9og.js";import{u as A,b as R,E as M,c as ot,A as N,d as F}from"./floating-ui.utils.dom.5K4CvxvD.js";import{j as it}from"./bundle-mjs.BglWWEXk.js";import{r as ct}from"./index.Bkf-Ke-4.js";function ne({controlled:t,default:e,name:n,state:r="value"}){const{current:s}=f.useRef(t!==void 0),[o,i]=f.useState(e),a=s?t:o,u=f.useCallback(c=>{s||i(c)},[]);return[a,u]}const D=G["useInsertionEffect".concat(Math.random().toFixed(1)).slice(0,-3)],ut=D&&D!==f.useLayoutEffect?D:t=>t();function T(t){const e=A(at).current;return e.next=t,ut(e.effect),e.trampoline}function at(){const t={next:void 0,callback:ft,trampoline:(...e)=>{var n;return(n=t.callback)==null?void 0:n.call(t,...e)},effect:()=>{t.callback=t.next}};return t}function ft(){}const $=f.createContext({register:()=>{},unregister:()=>{},subscribeMapChange:()=>()=>{},elementsRef:{current:[]},nextIndexRef:{current:0}});function lt(){return f.useContext($)}function se(t){const{children:e,elementsRef:n,labelsRef:r,onMapChange:s}=t,o=T(s),i=f.useRef(0),a=A(gt).current,u=A(dt).current,[c,g]=f.useState(0),E=f.useRef(c),h=T((l,y)=>{u.set(l,y!=null?y:null),E.current+=1,g(E.current)}),p=T(l=>{u.delete(l),E.current+=1,g(E.current)}),b=f.useMemo(()=>{const l=new Map;return Array.from(u.keys()).sort(pt).forEach((m,d)=>{var L;const P=(L=u.get(m))!=null?L:{};l.set(m,{...P,index:d})}),l},[u,c]);R(()=>{if(typeof MutationObserver!="function"||b.size===0)return;const l=new MutationObserver(y=>{const m=new Set,d=P=>m.has(P)?m.delete(P):m.add(P);y.forEach(P=>{P.removedNodes.forEach(d),P.addedNodes.forEach(d)}),m.size===0&&(E.current+=1,g(E.current))});return b.forEach((y,m)=>{m.parentElement&&l.observe(m.parentElement,{childList:!0})}),()=>{l.disconnect()}},[b]),R(()=>{E.current===c&&(n.current.length!==b.size&&(n.current.length=b.size),r&&r.current.length!==b.size&&(r.current.length=b.size),i.current=b.size),o(b)},[o,b,n,r,c]),R(()=>()=>{n.current=[]},[n]),R(()=>()=>{r&&(r.current=[])},[r]);const I=T(l=>(a.add(l),()=>{a.delete(l)}));R(()=>{a.forEach(l=>l(b))},[a,b]);const S=f.useMemo(()=>({register:h,unregister:p,subscribeMapChange:I,elementsRef:n,labelsRef:r,nextIndexRef:i}),[h,p,I,n,r,i]);return it.jsx($.Provider,{value:S,children:e})}function dt(){return new Map}function gt(){return new Set}function pt(t,e){const n=t.compareDocumentPosition(e);return n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0}const ht=f.createContext(void 0);function re(){var e;const t=f.useContext(ht);return(e=t==null?void 0:t.direction)!=null?e:"ltr"}function j(t,...e){const n=new URL("https://base-ui.com/production-error/".concat(t));return e.forEach(r=>n.searchParams.append("args[]",r)),"Base UI error #".concat(t,"; visit ").concat(n," for the full message.")}function B(t,e,n,r){const s=A(z).current;return mt(s,t,e,n,r)&&q(s,[t,e,n,r]),s.callback}function bt(t){const e=A(z).current;return Et(e,t)&&q(e,t),e.callback}function z(){return{callback:null,cleanup:null,refs:[]}}function mt(t,e,n,r,s){return t.refs[0]!==e||t.refs[1]!==n||t.refs[2]!==r||t.refs[3]!==s}function Et(t,e){return t.refs.length!==e.length||t.refs.some((n,r)=>n!==e[r])}function q(t,e){if(t.refs=e,e.every(n=>n==null)){t.callback=null;return}t.callback=n=>{if(t.cleanup&&(t.cleanup(),t.cleanup=null),n!=null){const r=Array(e.length).fill(null);for(let s=0;s<e.length;s+=1){const o=e[s];if(o!=null)switch(typeof o){case"function":{const i=o(n);typeof i=="function"&&(r[s]=i);break}case"object":{o.current=n;break}}}t.cleanup=()=>{for(let s=0;s<e.length;s+=1){const o=e[s];if(o!=null)switch(typeof o){case"function":{const i=r[s];typeof i=="function"?i():o(null);break}case"object":{o.current=null;break}}}}}}}function K(t){var s;if(!f.isValidElement(t))return null;const e=t,n=e.props,r=n==null?void 0:n.ref;return(s=r!=null?r:e.ref)!=null?s:null}function _(t,e){if(t&&!e)return t;if(!t&&e)return e;if(t||e)return{...t,...e}}function yt(t,e){const n={};for(const r in t){const s=t[r];if(e!=null&&e.hasOwnProperty(r)){const o=e[r](s);o!=null&&Object.assign(n,o);continue}s===!0?n["data-".concat(r.toLowerCase())]="":s&&(n["data-".concat(r.toLowerCase())]=s.toString())}return n}function Rt(t,e){return typeof t=="function"?t(e):t}function It(t,e){return typeof t=="function"?t(e):t}const w={};function X(t,e,n,r,s){let o={...k(t,w)};return e&&(o=C(o,e)),n&&(o=C(o,n)),r&&(o=C(o,r)),o}function Pt(t){if(t.length===0)return w;if(t.length===1)return k(t[0],w);let e={...k(t[0],w)};for(let n=1;n<t.length;n+=1)e=C(e,t[n]);return e}function C(t,e){return J(e)?e(t):St(t,e)}function St(t,e){if(!e)return t;for(const n in e){const r=e[n];switch(n){case"style":{t[n]=_(t.style,r);break}case"className":{t[n]=Z(t.className,r);break}default:Tt(n,r)?t[n]=Mt(t[n],r):t[n]=r}}return t}function Tt(t,e){const n=t.charCodeAt(0),r=t.charCodeAt(1),s=t.charCodeAt(2);return n===111&&r===110&&s>=65&&s<=90&&(typeof e=="function"||typeof e>"u")}function J(t){return typeof t=="function"}function k(t,e){return J(t)?t(e):t!=null?t:w}function Mt(t,e){return e?t?n=>{if(Nt(n)){const s=n;v(s);const o=e(s);return s.baseUIHandlerPrevented||t==null||t(s),o}const r=e(n);return t==null||t(n),r}:e:t}function v(t){return t.preventBaseUIHandler=()=>{t.baseUIHandlerPrevented=!0},t}function Z(t,e){return e?t?e+" "+t:e:t}function Nt(t){return t!=null&&typeof t=="object"&&"nativeEvent"in t}function oe(t,e,n={}){var i;const r=e.render,s=At(e,n);if(n.enabled===!1)return null;const o=(i=n.state)!=null?i:M;return Lt(t,r,s,o)}function At(t,e={}){var b;const{className:n,style:r,render:s}=t,{state:o=M,ref:i,props:a,stateAttributesMapping:u,enabled:c=!0}=e,g=c?Rt(n,o):void 0,E=c?It(r,o):void 0,h=c?yt(o,u):M,p=c?(b=_(h,Array.isArray(a)?Pt(a):a))!=null?b:M:M;return typeof document<"u"&&(c?Array.isArray(i)?p.ref=bt([p.ref,K(s),...i]):p.ref=B(p.ref,K(s),i):B(null,null)),c?(g!==void 0&&(p.className=Z(p.className,g)),E!==void 0&&(p.style=_(p.style,E)),p):M}function Lt(t,e,n,r){if(e){if(typeof e=="function")return e(n,r);const s=X(n,e.props);return s.ref=n.ref,f.cloneElement(e,s)}if(t&&typeof t=="string")return wt(t,n);throw new Error(j(8))}function wt(t,e){return t==="button"?f.createElement("button",{type:"button",...e,key:e.key}):t==="img"?f.createElement("img",{alt:"",...e,key:e.key}):f.createElement(t,e)}const ie="none",ce="trigger-press",ue="trigger-hover",ae="outside-press",fe="link-press",le="focus-out",de="escape-key",ge="list-navigation";function pe(t,e,n,r){let s=!1,o=!1;const i=M;return{reason:t,event:e!=null?e:new Event("base-ui"),cancel(){s=!0},allowPropagation(){o=!0},get isCanceled(){return s},get isPropagationAllowed(){return o},trigger:n,...i}}const Ot={...G};let Y=0;function Ct(t,e="mui"){const[n,r]=f.useState(t),s=t||n;return f.useEffect(()=>{n==null&&(Y+=1,r("".concat(e,"-").concat(Y)))},[n,e]),s}const H=Ot.useId;function Dt(t,e){if(H!==void 0){const n=H();return t!=null?t:e?"".concat(e,"-").concat(n):n}return Ct(t,e)}function he(t){return Dt(t,"base-ui")}var x=ct();function _t(t){return t==null?t:"current"in t?t.current:t}function kt(t,e=!1,n=!0){const r=ot();return T((s,o=null)=>{r.cancel();const i=_t(t);i!=null&&(typeof i.getAnimations!="function"||globalThis.BASE_UI_ANIMATIONS_DISABLED?s():r.request(()=>{function a(){i&&Promise.all(i.getAnimations().map(u=>u.finished)).then(()=>{o!=null&&o.aborted||x.flushSync(s)}).catch(()=>{if(n){if(o!=null&&o.aborted)return;x.flushSync(s)}else i.getAnimations().length>0&&i.getAnimations().some(u=>u.pending||u.playState!=="finished")&&a()})}e?r.request(a):a()}))})}function be(t,e=!1,n=!1){const[r,s]=f.useState(t&&e?"idle":void 0),[o,i]=f.useState(t);return t&&!o&&(i(!0),s("starting")),!t&&o&&r!=="ending"&&!n&&s("ending"),!t&&!o&&r==="ending"&&s(void 0),R(()=>{if(!t&&o&&r!=="ending"&&n){const a=N.request(()=>{s("ending")});return()=>{N.cancel(a)}}},[t,o,r,n]),R(()=>{if(!t||e)return;const a=N.request(()=>{x.flushSync(()=>{s(void 0)})});return()=>{N.cancel(a)}},[e,t]),R(()=>{if(!t||!e)return;t&&o&&r!=="idle"&&s("starting");const a=N.request(()=>{s("idle")});return()=>{N.cancel(a)}},[e,t,o,s,r]),f.useMemo(()=>({mounted:o,setMounted:i,transitionStatus:r}),[o,r])}let vt=(function(t){return t[t.None=0]="None",t[t.GuessFromOrder=1]="GuessFromOrder",t})({});function me(t={}){const{label:e,metadata:n,textRef:r,indexGuessBehavior:s,index:o}=t,{register:i,unregister:a,subscribeMapChange:u,elementsRef:c,labelsRef:g,nextIndexRef:E}=lt(),h=f.useRef(-1),[p,b]=f.useState(o!=null?o:s===vt.GuessFromOrder?()=>{if(h.current===-1){const l=E.current;E.current+=1,h.current=l}return h.current}:-1),I=f.useRef(null),S=f.useCallback(l=>{var y,m;if(I.current=l,p!==-1&&l!==null&&(c.current[p]=l,g)){const d=e!==void 0;g.current[p]=d?e:(m=(y=r==null?void 0:r.current)==null?void 0:y.textContent)!=null?m:l.textContent}},[p,c,g,e,r]);return R(()=>{if(o!=null)return;const l=I.current;if(l)return i(l,n),()=>{a(l)}},[o,i,a,n]),R(()=>{if(o==null)return u(l=>{var m;const y=I.current?(m=l.get(I.current))==null?void 0:m.index:null;y!=null&&b(y)})},[o,u,b]),f.useMemo(()=>({ref:S,index:p}),[p,S])}let Q=(function(t){return t.startingStyle="data-starting-style",t.endingStyle="data-ending-style",t})({});const xt={[Q.startingStyle]:""},Ft={[Q.endingStyle]:""},Ee={transitionStatus(t){return t==="starting"?xt:t==="ending"?Ft:null}};function ye(t){return t==null||t.hasAttribute("disabled")||t.getAttribute("aria-disabled")==="true"}const Ut=f.createContext(void 0);function Wt(t=!1){const e=f.useContext(Ut);if(e===void 0&&!t)throw new Error(j(16));return e}function Bt(t){const{focusableWhenDisabled:e,disabled:n,composite:r=!1,tabIndex:s=0,isNativeButton:o}=t,i=r&&e!==!1,a=r&&e===!1;return{props:f.useMemo(()=>{const c={onKeyDown(g){n&&e&&g.key!=="Tab"&&g.preventDefault()}};return r||(c.tabIndex=s,!o&&n&&(c.tabIndex=e?s:-1)),(o&&(e||i)||!o&&n)&&(c["aria-disabled"]=n),o&&(!e||a)&&(c.disabled=n),c},[r,n,e,i,a,o,s])}}function Re(t={}){const{disabled:e=!1,focusableWhenDisabled:n,tabIndex:r=0,native:s=!0}=t,o=f.useRef(null),i=Wt(!0)!==void 0,a=T(()=>{const h=o.current;return!!((h==null?void 0:h.tagName)==="A"&&(h!=null&&h.href))}),{props:u}=Bt({focusableWhenDisabled:n,disabled:e,composite:i,tabIndex:r,isNativeButton:s}),c=f.useCallback(()=>{const h=o.current;Kt(h)&&i&&e&&u.disabled===void 0&&h.disabled&&(h.disabled=!1)},[e,u.disabled,i]);R(c,[c]);const g=f.useCallback((h={})=>{const{onClick:p,onMouseDown:b,onKeyUp:I,onKeyDown:S,onPointerDown:l,...y}=h;return X({type:s?"button":void 0,onClick(d){if(e){d.preventDefault();return}p==null||p(d)},onMouseDown(d){e||b==null||b(d)},onKeyDown(d){if(e||(v(d),S==null||S(d)),d.baseUIHandlerPrevented)return;const P=d.target===d.currentTarget&&!s&&!a()&&!e,L=d.key==="Enter",rt=d.key===" ";P&&((rt||L)&&d.preventDefault(),L&&(p==null||p(d)))},onKeyUp(d){e||(v(d),I==null||I(d)),!d.baseUIHandlerPrevented&&d.target===d.currentTarget&&!s&&!e&&d.key===" "&&(p==null||p(d))},onPointerDown(d){if(e){d.preventDefault();return}l==null||l(d)}},s?void 0:{role:"button"},u,y)},[e,u,s,a]),E=T(h=>{o.current=h,c()});return{getButtonProps:g,buttonRef:E}}function Kt(t){return F(t)&&t.tagName==="BUTTON"}function Ie(t){t.preventDefault(),t.stopPropagation()}function Pe(t){return"nativeEvent"in t}function Se(t,e){const n=["mouse","pen"];return e||n.push("",void 0),n.includes(t)}const tt="ArrowUp",et="ArrowDown",nt="ArrowLeft",st="ArrowRight",U="Home",W="End",Yt=new Set([nt,st]),Te=new Set([nt,st,U,W]),Ht=new Set([tt,et]),Me=new Set([tt,et,U,W]),Vt=new Set([...Yt,...Ht]),Ne=new Set([...Vt,U,W]),Gt="Shift",$t="Control",jt="Alt",zt="Meta",Ae=new Set([Gt,$t,jt,zt]);function qt(t){return F(t)&&t.tagName==="INPUT"}function Le(t){return!!(qt(t)&&t.selectionStart!=null||F(t)&&t.tagName==="TEXTAREA")}function we(t,e,n,r){if(!t||!e||!e.scrollTo)return;let s=t.scrollLeft,o=t.scrollTop;const i=t.clientWidth<t.scrollWidth,a=t.clientHeight<t.scrollHeight;if(i&&r!=="vertical"){const u=V(t,e,"left"),c=O(t),g=O(e);n==="ltr"&&(u+e.offsetWidth+g.scrollMarginRight>t.scrollLeft+t.clientWidth-c.scrollPaddingRight?s=u+e.offsetWidth+g.scrollMarginRight-t.clientWidth+c.scrollPaddingRight:u-g.scrollMarginLeft<t.scrollLeft+c.scrollPaddingLeft&&(s=u-g.scrollMarginLeft-c.scrollPaddingLeft)),n==="rtl"&&(u-g.scrollMarginRight<t.scrollLeft+c.scrollPaddingLeft?s=u-g.scrollMarginLeft-c.scrollPaddingLeft:u+e.offsetWidth+g.scrollMarginRight>t.scrollLeft+t.clientWidth-c.scrollPaddingRight&&(s=u+e.offsetWidth+g.scrollMarginRight-t.clientWidth+c.scrollPaddingRight))}if(a&&r!=="horizontal"){const u=V(t,e,"top"),c=O(t),g=O(e);u-g.scrollMarginTop<t.scrollTop+c.scrollPaddingTop?o=u-g.scrollMarginTop-c.scrollPaddingTop:u+e.offsetHeight+g.scrollMarginBottom>t.scrollTop+t.clientHeight-c.scrollPaddingBottom&&(o=u+e.offsetHeight+g.scrollMarginBottom-t.clientHeight+c.scrollPaddingBottom)}t.scrollTo({left:s,top:o,behavior:"auto"})}function V(t,e,n){const r=n==="left"?"offsetLeft":"offsetTop";let s=0;for(;e.offsetParent&&(s+=e[r],e.offsetParent!==t);)e=e.offsetParent;return s}function O(t){const e=getComputedStyle(t);return{scrollMarginTop:parseFloat(e.scrollMarginTop)||0,scrollMarginRight:parseFloat(e.scrollMarginRight)||0,scrollMarginBottom:parseFloat(e.scrollMarginBottom)||0,scrollMarginLeft:parseFloat(e.scrollMarginLeft)||0,scrollPaddingTop:parseFloat(e.scrollPaddingTop)||0,scrollPaddingRight:parseFloat(e.scrollPaddingRight)||0,scrollPaddingBottom:parseFloat(e.scrollPaddingBottom)||0,scrollPaddingLeft:parseFloat(e.scrollPaddingLeft)||0}}function Xt(t){const e=A(Jt,t).current;return e.next=t,R(e.effect),e}function Jt(t){const e={current:t,next:t,effect:()=>{e.current=e.next}};return e}function Oe(t){const{enabled:e=!0,open:n,ref:r,onComplete:s}=t,o=Xt(n),i=T(s),a=kt(r,n);f.useEffect(()=>{e&&a(()=>{n===o.current&&i()})},[e,n,i,a,o])}export{et as A,le as B,se as C,Pe as D,W as E,de as F,ae as G,U as H,we as I,Ne as J,Vt as K,Le as L,Ht as M,Te as N,Yt as O,Ae as P,Ut as Q,Wt as R,ge as S,Q as T,fe as U,Me as V,T as a,ne as b,oe as c,pe as d,be as e,j as f,he as g,kt as h,Ee as i,me as j,B as k,Re as l,tt as m,ie as n,st as o,nt as p,ye as q,Oe as r,Ie as s,ce as t,re as u,Dt as v,Xt as w,ue as x,Se as y,x as z};
