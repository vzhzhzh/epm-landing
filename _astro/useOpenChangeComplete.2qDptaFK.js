var at=Object.defineProperty;var lt=(t,e,n)=>e in t?at(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var P=(t,e,n)=>lt(t,typeof e!="symbol"?e+"":e,n);import{r as u,R as G}from"./index.CBlmr9og.js";import{j as ft}from"./bundle-mjs.BglWWEXk.js";import{a as B}from"./floating-ui.utils.dom.BfwBRLju.js";import{r as dt}from"./index.Bkf-Ke-4.js";function ge({controlled:t,default:e,name:n,state:r="value"}){const{current:s}=u.useRef(t!==void 0),[o,c]=u.useState(e),l=s?t:o,a=u.useCallback(i=>{s||c(i)},[]);return[l,a]}const q={};function L(t,e){const n=u.useRef(q);return n.current===q&&(n.current=t(e)),n}const x=G["useInsertionEffect".concat(Math.random().toFixed(1)).slice(0,-3)],gt=x&&x!==u.useLayoutEffect?x:t=>t();function N(t){const e=L(ht).current;return e.next=t,gt(e.effect),e.trampoline}function ht(){const t={next:void 0,callback:pt,trampoline:(...e)=>{var n;return(n=t.callback)==null?void 0:n.call(t,...e)},effect:()=>{t.callback=t.next}};return t}function pt(){}const bt=()=>{},R=typeof document<"u"?u.useLayoutEffect:bt,X=u.createContext({register:()=>{},unregister:()=>{},subscribeMapChange:()=>()=>{},elementsRef:{current:[]},nextIndexRef:{current:0}});function Et(){return u.useContext(X)}function he(t){const{children:e,elementsRef:n,labelsRef:r,onMapChange:s}=t,o=N(s),c=u.useRef(0),l=L(It).current,a=L(mt).current,[i,g]=u.useState(0),m=u.useRef(i),p=N((f,I)=>{a.set(f,I!=null?I:null),m.current+=1,g(m.current)}),h=N(f=>{a.delete(f),m.current+=1,g(m.current)}),b=u.useMemo(()=>{const f=new Map;return Array.from(a.keys()).sort(Rt).forEach((E,d)=>{var C;const S=(C=a.get(E))!=null?C:{};f.set(E,{...S,index:d})}),f},[a,i]);R(()=>{if(typeof MutationObserver!="function"||b.size===0)return;const f=new MutationObserver(I=>{const E=new Set,d=S=>E.has(S)?E.delete(S):E.add(S);I.forEach(S=>{S.removedNodes.forEach(d),S.addedNodes.forEach(d)}),E.size===0&&(m.current+=1,g(m.current))});return b.forEach((I,E)=>{E.parentElement&&f.observe(E.parentElement,{childList:!0})}),()=>{f.disconnect()}},[b]),R(()=>{m.current===i&&(n.current.length!==b.size&&(n.current.length=b.size),r&&r.current.length!==b.size&&(r.current.length=b.size),c.current=b.size),o(b)},[o,b,n,r,i]),R(()=>()=>{n.current=[]},[n]),R(()=>()=>{r&&(r.current=[])},[r]);const y=N(f=>(l.add(f),()=>{l.delete(f)}));R(()=>{l.forEach(f=>f(b))},[l,b]);const M=u.useMemo(()=>({register:p,unregister:h,subscribeMapChange:y,elementsRef:n,labelsRef:r,nextIndexRef:c}),[p,h,y,n,r,c]);return ft.jsx(X.Provider,{value:M,children:e})}function mt(){return new Map}function It(){return new Set}function Rt(t,e){const n=t.compareDocumentPosition(e);return n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0}const yt=u.createContext(void 0);function pe(){var e;const t=u.useContext(yt);return(e=t==null?void 0:t.direction)!=null?e:"ltr"}function Z(t,...e){const n=new URL("https://base-ui.com/production-error/".concat(t));return e.forEach(r=>n.searchParams.append("args[]",r)),"Base UI error #".concat(t,"; visit ").concat(n," for the full message.")}function H(t,e,n,r){const s=L(J).current;return Pt(s,t,e,n,r)&&Q(s,[t,e,n,r]),s.callback}function St(t){const e=L(J).current;return Tt(e,t)&&Q(e,t),e.callback}function J(){return{callback:null,cleanup:null,refs:[]}}function Pt(t,e,n,r,s){return t.refs[0]!==e||t.refs[1]!==n||t.refs[2]!==r||t.refs[3]!==s}function Tt(t,e){return t.refs.length!==e.length||t.refs.some((n,r)=>n!==e[r])}function Q(t,e){if(t.refs=e,e.every(n=>n==null)){t.callback=null;return}t.callback=n=>{if(t.cleanup&&(t.cleanup(),t.cleanup=null),n!=null){const r=Array(e.length).fill(null);for(let s=0;s<e.length;s+=1){const o=e[s];if(o!=null)switch(typeof o){case"function":{const c=o(n);typeof c=="function"&&(r[s]=c);break}case"object":{o.current=n;break}}}t.cleanup=()=>{for(let s=0;s<e.length;s+=1){const o=e[s];if(o!=null)switch(typeof o){case"function":{const c=r[s];typeof c=="function"?c():o(null);break}case"object":{o.current=null;break}}}}}}}function $(t){var s;if(!u.isValidElement(t))return null;const e=t,n=e.props,r=n==null?void 0:n.ref;return(s=r!=null?r:e.ref)!=null?s:null}function v(t,e){if(t&&!e)return t;if(!t&&e)return e;if(t||e)return{...t,...e}}function Mt(t,e){const n={};for(const r in t){const s=t[r];if(e!=null&&e.hasOwnProperty(r)){const o=e[r](s);o!=null&&Object.assign(n,o);continue}s===!0?n["data-".concat(r.toLowerCase())]="":s&&(n["data-".concat(r.toLowerCase())]=s.toString())}return n}function Nt(t,e){return typeof t=="function"?t(e):t}function At(t,e){return typeof t=="function"?t(e):t}const k={};function tt(t,e,n,r,s){let o={...F(t,k)};return e&&(o=_(o,e)),n&&(o=_(o,n)),r&&(o=_(o,r)),o}function Lt(t){if(t.length===0)return k;if(t.length===1)return F(t[0],k);let e={...F(t[0],k)};for(let n=1;n<t.length;n+=1)e=_(e,t[n]);return e}function _(t,e){return et(e)?e(t):Ct(t,e)}function Ct(t,e){if(!e)return t;for(const n in e){const r=e[n];switch(n){case"style":{t[n]=v(t.style,r);break}case"className":{t[n]=nt(t.className,r);break}default:kt(n,r)?t[n]=Ot(t[n],r):t[n]=r}}return t}function kt(t,e){const n=t.charCodeAt(0),r=t.charCodeAt(1),s=t.charCodeAt(2);return n===111&&r===110&&s>=65&&s<=90&&(typeof e=="function"||typeof e>"u")}function et(t){return typeof t=="function"}function F(t,e){return et(t)?t(e):t!=null?t:k}function Ot(t,e){return e?t?n=>{if(wt(n)){const s=n;U(s);const o=e(s);return s.baseUIHandlerPrevented||t==null||t(s),o}const r=e(n);return t==null||t(n),r}:e:t}function U(t){return t.preventBaseUIHandler=()=>{t.baseUIHandlerPrevented=!0},t}function nt(t,e){return e?t?e+" "+t:e:t}function wt(t){return t!=null&&typeof t=="object"&&"nativeEvent"in t}const be=Object.freeze([]),A=Object.freeze({});function Ee(t,e,n={}){var c;const r=e.render,s=Dt(e,n);if(n.enabled===!1)return null;const o=(c=n.state)!=null?c:A;return _t(t,r,s,o)}function Dt(t,e={}){var b;const{className:n,style:r,render:s}=t,{state:o=A,ref:c,props:l,stateAttributesMapping:a,enabled:i=!0}=e,g=i?Nt(n,o):void 0,m=i?At(r,o):void 0,p=i?Mt(o,a):A,h=i&&(b=v(p,Array.isArray(l)?Lt(l):l))!=null?b:A;return typeof document<"u"&&(i?Array.isArray(c)?h.ref=St([h.ref,$(s),...c]):h.ref=H(h.ref,$(s),c):H(null,null)),i?(g!==void 0&&(h.className=nt(h.className,g)),m!==void 0&&(h.style=v(h.style,m)),h):A}function _t(t,e,n,r){if(e){if(typeof e=="function")return e(n,r);const s=tt(n,e.props);return s.ref=n.ref,u.cloneElement(e,s)}if(t&&typeof t=="string")return xt(t,n);throw new Error(Z(8))}function xt(t,e){return t==="button"?u.createElement("button",{type:"button",...e,key:e.key}):t==="img"?u.createElement("img",{alt:"",...e,key:e.key}):u.createElement(t,e)}const me="none",Ie="trigger-press",Re="trigger-hover",ye="outside-press",Se="link-press",Pe="focus-out",Te="escape-key",Me="list-navigation";function Ne(t,e,n,r){let s=!1,o=!1;const c=A;return{reason:t,event:e!=null?e:new Event("base-ui"),cancel(){s=!0},allowPropagation(){o=!0},get isCanceled(){return s},get isPropagationAllowed(){return o},trigger:n,...c}}const vt={...G};let j=0;function Ft(t,e="mui"){const[n,r]=u.useState(t),s=t||n;return u.useEffect(()=>{n==null&&(j+=1,r("".concat(e,"-").concat(j)))},[n,e]),s}const z=vt.useId;function Ut(t,e){if(z!==void 0){const n=z();return t!=null?t:e?"".concat(e,"-").concat(n):n}return Ft(t,e)}function Ae(t){return Ut(t,"base-ui")}var W=dt();const Wt=[];function Bt(t){u.useEffect(t,Wt)}const O=null;class Yt{constructor(){P(this,"callbacks",[]);P(this,"callbacksCount",0);P(this,"nextId",1);P(this,"startId",1);P(this,"isScheduled",!1);P(this,"tick",e=>{var s;this.isScheduled=!1;const n=this.callbacks,r=this.callbacksCount;if(this.callbacks=[],this.callbacksCount=0,this.startId=this.nextId,r>0)for(let o=0;o<n.length;o+=1)(s=n[o])==null||s.call(n,e)})}request(e){const n=this.nextId;return this.nextId+=1,this.callbacks.push(e),this.callbacksCount+=1,(!this.isScheduled||!1)&&(requestAnimationFrame(this.tick),this.isScheduled=!0),n}cancel(e){const n=e-this.startId;n<0||n>=this.callbacks.length||(this.callbacks[n]=null,this.callbacksCount-=1)}}const w=new Yt;class T{constructor(){P(this,"currentId",O);P(this,"cancel",()=>{this.currentId!==O&&(w.cancel(this.currentId),this.currentId=O)});P(this,"disposeEffect",()=>this.cancel)}static create(){return new T}static request(e){return w.request(e)}static cancel(e){return w.cancel(e)}request(e){this.cancel(),this.currentId=w.request(()=>{this.currentId=O,e()})}}function Kt(){const t=L(T.create).current;return Bt(t.disposeEffect),t}function qt(t){return t==null?t:"current"in t?t.current:t}function Ht(t,e=!1,n=!0){const r=Kt();return N((s,o=null)=>{r.cancel();const c=qt(t);c!=null&&(typeof c.getAnimations!="function"||globalThis.BASE_UI_ANIMATIONS_DISABLED?s():r.request(()=>{function l(){c&&Promise.all(c.getAnimations().map(a=>a.finished)).then(()=>{o!=null&&o.aborted||W.flushSync(s)}).catch(()=>{if(n){if(o!=null&&o.aborted)return;W.flushSync(s)}else c.getAnimations().length>0&&c.getAnimations().some(a=>a.pending||a.playState!=="finished")&&l()})}e?r.request(l):l()}))})}function Le(t,e=!1,n=!1){const[r,s]=u.useState(t&&e?"idle":void 0),[o,c]=u.useState(t);return t&&!o&&(c(!0),s("starting")),!t&&o&&r!=="ending"&&!n&&s("ending"),!t&&!o&&r==="ending"&&s(void 0),R(()=>{if(!t&&o&&r!=="ending"&&n){const l=T.request(()=>{s("ending")});return()=>{T.cancel(l)}}},[t,o,r,n]),R(()=>{if(!t||e)return;const l=T.request(()=>{W.flushSync(()=>{s(void 0)})});return()=>{T.cancel(l)}},[e,t]),R(()=>{if(!t||!e)return;t&&o&&r!=="idle"&&s("starting");const l=T.request(()=>{s("idle")});return()=>{T.cancel(l)}},[e,t,o,s,r]),u.useMemo(()=>({mounted:o,setMounted:c,transitionStatus:r}),[o,r])}let $t=(function(t){return t[t.None=0]="None",t[t.GuessFromOrder=1]="GuessFromOrder",t})({});function Ce(t={}){const{label:e,metadata:n,textRef:r,indexGuessBehavior:s,index:o}=t,{register:c,unregister:l,subscribeMapChange:a,elementsRef:i,labelsRef:g,nextIndexRef:m}=Et(),p=u.useRef(-1),[h,b]=u.useState(o!=null?o:s===$t.GuessFromOrder?()=>{if(p.current===-1){const f=m.current;m.current+=1,p.current=f}return p.current}:-1),y=u.useRef(null),M=u.useCallback(f=>{var I,E;if(y.current=f,h!==-1&&f!==null&&(i.current[h]=f,g)){const d=e!==void 0;g.current[h]=d?e:(E=(I=r==null?void 0:r.current)==null?void 0:I.textContent)!=null?E:f.textContent}},[h,i,g,e,r]);return R(()=>{if(o!=null)return;const f=y.current;if(f)return c(f,n),()=>{l(f)}},[o,c,l,n]),R(()=>{if(o==null)return a(f=>{var E;const I=y.current?(E=f.get(y.current))==null?void 0:E.index:null;I!=null&&b(I)})},[o,a,b]),u.useMemo(()=>({ref:M,index:h}),[h,M])}let st=(function(t){return t.startingStyle="data-starting-style",t.endingStyle="data-ending-style",t})({});const jt={[st.startingStyle]:""},zt={[st.endingStyle]:""},ke={transitionStatus(t){return t==="starting"?jt:t==="ending"?zt:null}};function Oe(t){return t==null||t.hasAttribute("disabled")||t.getAttribute("aria-disabled")==="true"}const Vt=u.createContext(void 0);function Gt(t=!1){const e=u.useContext(Vt);if(e===void 0&&!t)throw new Error(Z(16));return e}function Xt(t){const{focusableWhenDisabled:e,disabled:n,composite:r=!1,tabIndex:s=0,isNativeButton:o}=t,c=r&&e!==!1,l=r&&e===!1;return{props:u.useMemo(()=>{const i={onKeyDown(g){n&&e&&g.key!=="Tab"&&g.preventDefault()}};return r||(i.tabIndex=s,!o&&n&&(i.tabIndex=e?s:-1)),(o&&(e||c)||!o&&n)&&(i["aria-disabled"]=n),o&&(!e||l)&&(i.disabled=n),i},[r,n,e,c,l,o,s])}}function we(t={}){const{disabled:e=!1,focusableWhenDisabled:n,tabIndex:r=0,native:s=!0}=t,o=u.useRef(null),c=Gt(!0)!==void 0,l=N(()=>{const p=o.current;return!!((p==null?void 0:p.tagName)==="A"&&(p!=null&&p.href))}),{props:a}=Xt({focusableWhenDisabled:n,disabled:e,composite:c,tabIndex:r,isNativeButton:s}),i=u.useCallback(()=>{const p=o.current;Zt(p)&&c&&e&&a.disabled===void 0&&p.disabled&&(p.disabled=!1)},[e,a.disabled,c]);R(i,[i]);const g=u.useCallback((p={})=>{const{onClick:h,onMouseDown:b,onKeyUp:y,onKeyDown:M,onPointerDown:f,...I}=p;return tt({type:s?"button":void 0,onClick(d){if(e){d.preventDefault();return}h==null||h(d)},onMouseDown(d){e||b==null||b(d)},onKeyDown(d){if(e||(U(d),M==null||M(d)),d.baseUIHandlerPrevented)return;const S=d.target===d.currentTarget&&!s&&!l()&&!e,C=d.key==="Enter",ut=d.key===" ";S&&((ut||C)&&d.preventDefault(),C&&(h==null||h(d)))},onKeyUp(d){e||(U(d),y==null||y(d)),!d.baseUIHandlerPrevented&&d.target===d.currentTarget&&!s&&!e&&d.key===" "&&(h==null||h(d))},onPointerDown(d){if(e){d.preventDefault();return}f==null||f(d)}},s?void 0:{role:"button"},a,I)},[e,a,s,l]),m=N(p=>{o.current=p,i()});return{getButtonProps:g,buttonRef:m}}function Zt(t){return B(t)&&t.tagName==="BUTTON"}function De(t){t.preventDefault(),t.stopPropagation()}function _e(t){return"nativeEvent"in t}function xe(t,e){const n=["mouse","pen"];return e||n.push("",void 0),n.includes(t)}const rt="ArrowUp",ot="ArrowDown",ct="ArrowLeft",it="ArrowRight",Y="Home",K="End",Jt=new Set([ct,it]),ve=new Set([ct,it,Y,K]),Qt=new Set([rt,ot]),Fe=new Set([rt,ot,Y,K]),te=new Set([...Jt,...Qt]),Ue=new Set([...te,Y,K]),ee="Shift",ne="Control",se="Alt",re="Meta",We=new Set([ee,ne,se,re]);function oe(t){return B(t)&&t.tagName==="INPUT"}function Be(t){return!!(oe(t)&&t.selectionStart!=null||B(t)&&t.tagName==="TEXTAREA")}function Ye(t,e,n,r){if(!t||!e||!e.scrollTo)return;let s=t.scrollLeft,o=t.scrollTop;const c=t.clientWidth<t.scrollWidth,l=t.clientHeight<t.scrollHeight;if(c&&r!=="vertical"){const a=V(t,e,"left"),i=D(t),g=D(e);n==="ltr"&&(a+e.offsetWidth+g.scrollMarginRight>t.scrollLeft+t.clientWidth-i.scrollPaddingRight?s=a+e.offsetWidth+g.scrollMarginRight-t.clientWidth+i.scrollPaddingRight:a-g.scrollMarginLeft<t.scrollLeft+i.scrollPaddingLeft&&(s=a-g.scrollMarginLeft-i.scrollPaddingLeft)),n==="rtl"&&(a-g.scrollMarginRight<t.scrollLeft+i.scrollPaddingLeft?s=a-g.scrollMarginLeft-i.scrollPaddingLeft:a+e.offsetWidth+g.scrollMarginRight>t.scrollLeft+t.clientWidth-i.scrollPaddingRight&&(s=a+e.offsetWidth+g.scrollMarginRight-t.clientWidth+i.scrollPaddingRight))}if(l&&r!=="horizontal"){const a=V(t,e,"top"),i=D(t),g=D(e);a-g.scrollMarginTop<t.scrollTop+i.scrollPaddingTop?o=a-g.scrollMarginTop-i.scrollPaddingTop:a+e.offsetHeight+g.scrollMarginBottom>t.scrollTop+t.clientHeight-i.scrollPaddingBottom&&(o=a+e.offsetHeight+g.scrollMarginBottom-t.clientHeight+i.scrollPaddingBottom)}t.scrollTo({left:s,top:o,behavior:"auto"})}function V(t,e,n){const r=n==="left"?"offsetLeft":"offsetTop";let s=0;for(;e.offsetParent&&(s+=e[r],e.offsetParent!==t);)e=e.offsetParent;return s}function D(t){const e=getComputedStyle(t);return{scrollMarginTop:parseFloat(e.scrollMarginTop)||0,scrollMarginRight:parseFloat(e.scrollMarginRight)||0,scrollMarginBottom:parseFloat(e.scrollMarginBottom)||0,scrollMarginLeft:parseFloat(e.scrollMarginLeft)||0,scrollPaddingTop:parseFloat(e.scrollPaddingTop)||0,scrollPaddingRight:parseFloat(e.scrollPaddingRight)||0,scrollPaddingBottom:parseFloat(e.scrollPaddingBottom)||0,scrollPaddingLeft:parseFloat(e.scrollPaddingLeft)||0}}function ce(t){const e=L(ie,t).current;return e.next=t,R(e.effect),e}function ie(t){const e={current:t,next:t,effect:()=>{e.current=e.next}};return e}function Ke(t){const{enabled:e=!0,open:n,ref:r,onComplete:s}=t,o=ce(n),c=N(s),l=Ht(r,n);u.useEffect(()=>{e&&l(()=>{n===o.current&&c()})},[e,n,c,l,o])}export{Me as $,ot as A,Ut as B,he as C,ce as D,K as E,Re as F,xe as G,Y as H,W as I,Pe as J,A as K,_e as L,Te as M,ye as N,Ye as O,Ue as P,te as Q,Be as R,Qt as S,st as T,ve as U,Fe as V,Jt as W,We as X,be as Y,Vt as Z,Gt as _,N as a,Se as a0,ge as b,Ee as c,Ne as d,Le as e,Z as f,Ae as g,Ht as h,R as i,ke as j,Ce as k,H as l,we as m,me as n,rt as o,it as p,ct as q,Oe as r,De as s,Ie as t,pe as u,Kt as v,T as w,Bt as x,Ke as y,L as z};
